# DACON 

![image](https://github.com/user-attachments/assets/895ca4a7-c1f9-4c70-b4c7-6f9767c528f4)


https://dacon.io/competitions/official/236381/overview/description

# [주제]
국민생활과 밀접한 10개 농산물 품목의 가격 예측 (배추, 무, 양파, 사과, 배, 건고추, 깐마늘, 감자, 대파, 상추)

# [문제 상세 설명]
학습 데이터는 2018년 ~ 2021년의 순 단위(10일)의 데이터가 주어지며,
평가 데이터는 추론 시점 T가 비식별화된 2022년의 순 단위의 데이터가 주어집니다.
평가 데이터 추론은 추론 시점 T 기준으로 최대 3개월의 순 단위의 입력 데이터를 바탕으로 T+1순, T+2순, T+3순의 평균가격을 예측해야합니다.
예측해야할 Target은 (배추, 무, 양파, 사과, 배, 건고추, 깐마늘, 감자, 대파, 상추)의 10개의 품목 중 아래의 특정 품종, 등급에 대해서만 예측을 진행합니다.

![image](https://github.com/user-attachments/assets/39180def-9893-4565-a40f-9365043946e8)


| **날짜** | **작업** | **인사이트** | **최종 성능(NMAE)** |
|:---:|:---:|:---:|:---:|
| 1 | 데이터 탐색 | 3개의 데이터셋 / 예측 품목마다 차이 존재 / 결측치는 존재하지 않으며 가격 데이터 특성상 0이 결측치로 추정됨 | 미제출 |
| 2 | BaseLine코드 제출 | 전처리 수행X , lstm 기본 모델 성능 확인 | 0.4385 |
| 3 | 데이터 전처리 | 시계열 데이터 특성상 bfill, ffill로 채우는 것이 유용할 것으로 예상하였으나 성능 하락 | 0.5018 |
| 4 | 전처리 및 모델링 | 변수 간의 상관성을 이용, 결측치 대체 & lstm의 layer 3겹 | 0.4714 |
| 5 | - | *전처리 수행을 거듭할수록 성능이 하락하는 현상에 대해 고민 | - |
| 6 | 모델 교체 | lstm에서 transformer 모델로 교체, 약간의 성능 향상 | 0.4178 |
| 7 | 전처리 방식 교체 & lstm | **test 데이터에서도 결측치로 추정되는 0값 발견, train과 동일한 방법으로 처리하는 코드 추가, 눈에 띄는 성능 향상 | 0.3276 |
| - | 전처리 방식 교체 & transformer | **현재 전처리 방식 : 총반입량 0이하 데이터 제거 / 평년평균가격 0인 값을 평균가격으로 대체 | 0.2648 |
| 8 | 데이터 전처리 | *bfill, ffill을 마지막에 적용하여 모든 값 채움, 성능하락 | 0.3277 |
| - | split_time_series | *시계열 데이터 특성을 반영, split_time_series를 통한 데이터 분할 / 처음 전처리 방식을 적용하면 성능 향상 예상 | 0.2997 |
| 9 | 차분 | *가격 데이터에 차분을 적용 / 높은 성능 향상 | 0.1244 |
| 10 | 데이터 전처리 | 전처리 로직 보완, 평균가격을 먼저 채우고 평균가격을 통해 다른 가격 변수 전처리 | 0.1244 |
| 11 | 모델 교체 | transformer 모델의 문제점 발견 / tft, lgbm, gru 모델링 수행, gru로 진행 예정 | 0.1244 |
| 12 | 파생 변수 | 전처리 로직 보완, rolling을 통해 데이터를 채우고 bfill, ffill 순차 적용 | 0.1265 |
| 13 | 모델링 보완 | gru의 하이퍼 파라미터를 수정 | 0.1186 |
| 14 | 모델링 보완 & 전처리 점검 | 최종적으로 수치 조정 | 0.1181 |

최종성적: 35위 /550, NMAE: 0.1181

***후기***
1) 모델링 성능이 유의미하게 향상된 시점은 크게 3번: 결측치 처리 / 데이터 차분 / hidden_size
2) 초반에 한가지 방법에 몰두하기보다 여러 방법을 시도하여 제출 기회를 소모하는 것이 좋아보임
3) 팀원 간의 정보 공유, 특히 팀원의 코드를 완벽히 이해하는 과정이 필수적
4) 버전 관리를 통해 필요한 코드를 찾는 시간을 절약하자
